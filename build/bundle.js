var app=function(){"use strict";function n(){}function t(n){return n()}function e(){return Object.create(null)}function r(n){n.forEach(t)}function o(n){return"function"==typeof n}function u(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function i(n,t){n.appendChild(t)}function l(n,t,e){n.insertBefore(t,e||null)}function c(n){n.parentNode.removeChild(n)}function a(n){return document.createElement(n)}function s(n){return document.createTextNode(n)}function f(){return s(" ")}function d(n,t,e,r){return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function p(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function h(n,t,e){n.classList[e?"add":"remove"](t)}let m;function g(n){m=n}const _=[],$=[],y=[],w=[],b=Promise.resolve();let v=!1;function x(n){y.push(n)}let k=!1;const q=new Set;function O(){if(!k){k=!0;do{for(let n=0;n<_.length;n+=1){const t=_[n];g(t),E(t.$$)}for(g(null),_.length=0;$.length;)$.pop()();for(let n=0;n<y.length;n+=1){const t=y[n];q.has(t)||(q.add(t),t())}y.length=0}while(_.length);for(;w.length;)w.pop()();v=!1,k=!1,q.clear()}}function E(n){if(null!==n.fragment){n.update(),r(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(x)}}const A=new Set;function X(n,t){-1===n.$$.dirty[0]&&(_.push(n),v||(v=!0,b.then(O)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function D(u,i,l,a,s,f,d=[-1]){const p=m;g(u);const h=u.$$={fragment:null,ctx:null,props:f,update:n,not_equal:s,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:e(),dirty:d,skip_bound:!1};let _=!1;if(h.ctx=l?l(u,i.props||{},((n,t,...e)=>{const r=e.length?e[0]:t;return h.ctx&&s(h.ctx[n],h.ctx[n]=r)&&(!h.skip_bound&&h.bound[n]&&h.bound[n](r),_&&X(u,n)),t})):[],h.update(),_=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),i.target){if(i.hydrate){const n=function(n){return Array.from(n.childNodes)}(i.target);h.fragment&&h.fragment.l(n),n.forEach(c)}else h.fragment&&h.fragment.c();i.intro&&(($=u.$$.fragment)&&$.i&&(A.delete($),$.i(y))),function(n,e,u){const{fragment:i,on_mount:l,on_destroy:c,after_update:a}=n.$$;i&&i.m(e,u),x((()=>{const e=l.map(t).filter(o);c?c.push(...e):r(e),n.$$.on_mount=[]})),a.forEach(x)}(u,i.target,i.anchor),O()}var $,y;g(p)}function C(n,t){const e={pattern:[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]};for(var r=0;r<8;r++){for(var o=0;o<3;o++){if(n[e.pattern[r][o]]!=t)break}if(3===o)return!0}return!1}function j(n){for(let t of n)if(null===t)return!1;return!0}function L(n){return function(n){const t="X",e="O";let r=n;function o(){for(var n=-1/0,t=-1,o=0;o<9;o++)if(null===r[o]){r[o]=e;var i=u(!1);i>n&&(t=o,n=i),r[o]=null}return t}function u(n){let o=i();if(10==o||-10==o||0==o)return o;if(n){let n=-1/0;for(var l=0;l<9;l++){if(null===r[l])r[l]=e,(a=u(!1))>n&&(n=a),r[l]=null}return n}let c=1/0;for(l=0;l<9;l++){var a;if(null===r[l])r[l]=t,(a=u(!0))<c&&(c=a),r[l]=null}return c}function i(){return C(r,t)?-10:C(r,e)?10:j(r)?0:void 0}return o()}(n)}function N(n,t,e){const r=n.slice();return r[7]=t[e],r[9]=e,r}function M(n){let t,e,r;function o(){return n[3](n[9])}return{c(){t=a("div"),p(t,"class","cell"),h(t,"cross","X"===n[7]),h(t,"circle","O"===n[7])},m(n,u){l(n,t,u),e||(r=d(t,"click",o),e=!0)},p(e,r){n=e,1&r&&h(t,"cross","X"===n[7]),1&r&&h(t,"circle","O"===n[7])},d(n){n&&c(t),e=!1,r()}}}function S(n){let t,e,r,o=n[0].winner+"";return{c(){t=a("p"),e=s(o),r=s(" is winner.")},m(n,o){l(n,t,o),i(t,e),i(t,r)},p(n,t){1&t&&o!==(o=n[0].winner+"")&&function(n,t){t=""+t,n.wholeText!==t&&(n.data=t)}(e,o)},d(n){n&&c(t)}}}function T(n){let t;return{c(){t=a("p"),t.textContent="Oops game ended in draw."},m(n,e){l(n,t,e)},d(n){n&&c(t)}}}function B(t){let e,r,o,u,s,m,g,_,$,y=t[0].squares,w=[];for(let n=0;n<y.length;n+=1)w[n]=M(N(t,y,n));let b=t[0].winner&&S(t),v=t[0].isDraw&&T();return{c(){e=a("main"),r=a("div");for(let n=0;n<w.length;n+=1)w[n].c();o=f(),u=a("div"),b&&b.c(),s=f(),v&&v.c(),m=f(),g=a("button"),g.textContent="Restart",p(r,"class","board"),p(u,"class","winning-message"),p(u,"id","winningMessage"),h(u,"show",t[0].game_finished)},m(n,c){l(n,e,c),i(e,r);for(let n=0;n<w.length;n+=1)w[n].m(r,null);i(e,o),i(e,u),b&&b.m(u,null),i(u,s),v&&v.m(u,null),i(u,m),i(u,g),_||($=d(g,"click",t[2]),_=!0)},p(n,[t]){if(3&t){let e;for(y=n[0].squares,e=0;e<y.length;e+=1){const o=N(n,y,e);w[e]?w[e].p(o,t):(w[e]=M(o),w[e].c(),w[e].m(r,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=y.length}n[0].winner?b?b.p(n,t):(b=S(n),b.c(),b.m(u,s)):b&&(b.d(1),b=null),n[0].isDraw?v||(v=T(),v.c(),v.m(u,m)):v&&(v.d(1),v=null),1&t&&h(u,"show",n[0].game_finished)},i:n,o:n,d(n){n&&c(e),function(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}(w,n),b&&b.d(),v&&v.d(),_=!1,$()}}}function P(n,t,e){let r,o={squares:Array(9).fill(null),player_one_turn:!0,winner:null,game_finished:!1,isDraw:!1,play_with_ai:!0};function u(n){o.game_finished||(e(0,o.squares[n]=r,o),i(r)||(e(0,o.player_one_turn=!o.player_one_turn,o),o.play_with_ai&&function(){const n=L(o.squares);if(e(0,o.squares[n]=o.player_one_turn?"X":"O",o),i(o.player_one_turn?"X":"O"))return;e(0,o.player_one_turn=!o.player_one_turn,o)}()))}function i(n){return C(o.squares,n)?(e(0,o.winner=n,o),e(0,o.game_finished=!0,o),!0):!!j(o.squares)&&(e(0,o.isDraw=!0,o),e(0,o.game_finished=!0,o),!0)}return n.$$.update=()=>{1&n.$$.dirty&&(r=o.player_one_turn?"X":"O")},[o,u,function(){e(0,o={squares:Array(9).fill(null),player_one_turn:!0,winner:null,game_finished:!1,isDraw:!1,play_with_ai:!0})},n=>u(n)]}return new class extends class{$destroy(){!function(n,t){const e=n.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=n}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(n){var t;this.$$set&&(t=n,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}{constructor(n){super(),D(this,n,P,B,u,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
